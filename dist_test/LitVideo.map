{"version":3,"sources":["LitVideo.js"],"names":["window","litVideo","_litVideo","_settings","_defaults","target","undefined","wrapperClass","videoURL","width","height","youtube","vimeo","iframeWidth","iframeHeight","init","initObject","resetSettings","isObject","checkObjectParams","wrapper","createVideoWrapper","targetNode","document","querySelector","iframe","createIframe","appendChild","message","console","error","objectToCheck","length","setTarget","extractVideoURLFromTargetElement","setIframeWidth","setIframeHeight","setVideoURL","createElement","classList","add","url","attributes","value","iframeAttrs","setAttributes","setDefaultIframeWidth","setDefaultIframeHeight","param","el","attrs","key","setAttribute"],"mappings":"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","file":"LitVideo.map","sourceRoot":"..\\lib\\lit_video","sourcesContent":["/**\r\n * Lit Video Library\r\n * Author : Jaspal Marok\r\n */\r\n\r\n// import \"./css/main.scss\";\r\n\r\n//#region Todo's\r\n\r\n            //Check for required params inobject [X]\r\n            //Get video id from target data attribute [X]\r\n            //Setup defaults [X]\r\n            //Create a wrapper object [X]\r\n            //Check if video is youtube or vimeo\r\n            //Create a Iframe[X]\r\n            //Append Iframe [X]\r\n            //Maybe form a variable that can be passed around to any function [X]\r\n            //create flag for setting default width \r\n            //video is attached to any element that is target\r\n            //Make it responsive\r\n\r\n//#endregion\r\n\r\n/**\r\n * IFFE with window to access it from anywhere in code.\r\n */\r\n(function(window){\r\n    \r\n    function litVideo(){\r\n\r\n\r\n        var _litVideo = {};\r\n\r\n        var _settings = {\r\n            target : undefined,\r\n            wrapperClass : undefined,\r\n            videoURL : undefined,\r\n            width: undefined,\r\n            height: undefined,\r\n            youtube: false,\r\n            vimeo:false\r\n        },\r\n        _defaults = {\r\n            wrapperClass : ['video-lit', 'video-lit-wrapper'],\r\n            iframeWidth:560,\r\n            iframeHeight:315\r\n        }\r\n\r\n        /**\r\n         * Library Methods\r\n         */\r\n        _litVideo.init = function(initObject){\r\n            try {\r\n                _litVideo.resetSettings();\r\n\r\n                if(!_litVideo.isObject(initObject) || _litVideo.checkObjectParams(initObject)){\r\n                    throw 'Object Expected to initialize LitVideo';\r\n                }\r\n    \r\n                const wrapper = _litVideo.createVideoWrapper();\r\n                const targetNode = document.querySelector(_settings.target);\r\n                const iframe = _litVideo.createIframe();\r\n    \r\n                wrapper.appendChild(iframe);\r\n                targetNode.appendChild(wrapper);\r\n            }\r\n\r\n            catch(message){\r\n                //Caught a premature throw\r\n                console.error(\"Error: \" + message);\r\n            }\r\n            \r\n            return;\r\n        }\r\n\r\n        _litVideo.checkObjectParams = function(objectToCheck){\r\n            if(typeof objectToCheck.target !== 'string' || !objectToCheck.target.length ){\r\n                throw \"Target could not be found in the object\";\r\n            }\r\n\r\n            if((objectToCheck.youtube == false || typeof objectToCheck.youtube == 'undefined') && (objectToCheck.vimeo == false || typeof objectToCheck.vimeo == 'undefined')){\r\n                throw \"Lit Video requires a vendor flag pass -> {youtube:true} or {vimeo:true} in options object\";\r\n            }\r\n\r\n            _litVideo.setTarget(objectToCheck.target);\r\n\r\n            const videoURL = _litVideo.extractVideoURLFromTargetElement();\r\n\r\n            if(!videoURL.length || typeof videoURL == 'undefined' ){\r\n                return \"Error no url attrbute detected\";\r\n            }\r\n\r\n            \r\n            if(typeof objectToCheck.width !== 'undefined'){\r\n                _litVideo.setIframeWidth(objectToCheck.width);\r\n            }\r\n\r\n            if(typeof objectToCheck.height !== 'undefined'){\r\n                _litVideo.setIframeHeight(objectToCheck.height);\r\n            }\r\n\r\n            _litVideo.setVideoURL(videoURL);\r\n        }\r\n\r\n        _litVideo.createVideoWrapper = function(){\r\n            var wrapper = document.createElement('div');\r\n\r\n            if(typeof _settings.wrapperClass === 'undefined'){\r\n                wrapper.classList.add(..._defaults.wrapperClass);\r\n                return wrapper;   \r\n            }\r\n\r\n            wrapper.classList.add(..._settings.wrapperClass);\r\n            return wrapper;\r\n        }\r\n\r\n        _litVideo.extractVideoURLFromTargetElement = function(){\r\n            const target = document.querySelector(_settings.target);\r\n            const url = target.attributes[\"data-video-url\"].value;\r\n            if( url.length == 0 || typeof url == 'undefined'){\r\n                throw `Missing video url on target ${_settings.target} element`;\r\n            }\r\n            return target.attributes[\"data-video-url\"].value;\r\n        }\r\n\r\n        _litVideo.createIframe = function(){\r\n            const iframe = document.createElement('iframe');\r\n            const iframeAttrs = {\r\n                'src' : _settings.videoURL,\r\n                'width' : ((typeof _settings.width == 'undefined') ? _defaults.iframeWidth : _settings.width),\r\n                'height' : ((typeof _settings.height == 'undefined') ? _defaults.iframeHeight : _settings.height)\r\n            }\r\n\r\n            _litVideo.setAttributes(iframe, iframeAttrs);\r\n            return iframe;\r\n        }\r\n\r\n\r\n\r\n        /**\r\n         * Private Settings Variable Setters\r\n         */\r\n        _litVideo.setTarget = function(target){\r\n            _settings.target = target;\r\n            return _settings.target;\r\n        }\r\n\r\n        _litVideo.setVideoURL = function(videoURL){\r\n            _settings.videoURL = videoURL;\r\n            return _settings.videoURL;\r\n        }\r\n        _litVideo.setIframeWidth = function(width){\r\n            _settings.width = width;\r\n            return _settings.width;\r\n        }\r\n\r\n        _litVideo.setIframeHeight = function(height){\r\n            _settings.height = height;\r\n            return _settings.height;\r\n        }\r\n\r\n        /**\r\n         * Private Default Variable setters\r\n         */\r\n        _litVideo.setDefaultIframeWidth = function(width){\r\n            _defaults.iframeWidth = width;\r\n            return _defaults.iframeWidth;\r\n        }\r\n\r\n        _litVideo.setDefaultIframeHeight = function(height){\r\n            _defaults.iframeHeight = height;\r\n            return _defaults.iframeHeight;\r\n        }\r\n        \r\n\r\n\r\n        /**\r\n         * Common Methods\r\n         */\r\n        _litVideo.isObject = function(param){\r\n            if (typeof param !== 'object') {\r\n                return false;\r\n            }\r\n            return true;\r\n        }\r\n        _litVideo.setAttributes= function(el, attrs) {\r\n            for(var key in attrs) {\r\n              el.setAttribute(key, attrs[key]);\r\n            }\r\n        }\r\n        _litVideo.resetSettings = function(){\r\n            _settings = {\r\n                target : undefined,\r\n                wrapperClass : undefined,\r\n                videoURL : undefined,\r\n                width: undefined,\r\n                height: undefined\r\n            }\r\n        }\r\n\r\n        return _litVideo;\r\n    }\r\n\r\n    /**\r\n     * Create Namespace\r\n     */\r\n    if(typeof (window.litVideo) === 'undefined'){\r\n        window.litVideo = litVideo();\r\n    }\r\n\r\n})(window);"]}